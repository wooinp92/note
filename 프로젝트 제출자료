# 배포 사전 처리 및 제출 파일 안내

## 프로젝트 코드 변경

배포를 위해서는 개발 완료한 프로젝트에 다음과 같은 추가 작업을 수행해야 합니다.
1. 모든 출력용 로그 제거
  - `System.out.println()` 또는 불필요한 logging 제거
  - 출력용 로그는 운영 서버에 부담을 주므로 제거해야 합니다
  - logging library를 사용하는 경우(Log4J, Logback 등) 로깅 수준을 `WARN`으로 변경하세요
2. 데이터베이스 계정 정보를 운영서버에 맞게 변경
  - 계정정보를 본인 조에 맞게 변경(강사 공지)
  - 접속 URL을 다음과 같이 변경 - `jdbc:oracle:thin:@www.sysout.co.kr:1521:xe`
3. 파일 업로드 및 다운로드 기준 경로 수정
  - 기준 경로 - `D:/upload/조별폴더` 
  - 조별폴더명은 강사 공지 참조
4. context path 처리 추가    *배포시 모든 절대경로에는 추가해야함*
  - JSP 페이지에 절대 경로 계산 코드를 다음과 같이 추가
  - `${pageContext.request.contextPath}`
5. 시간제한이 있는 기능(ex : 경매, 펀딩 등)의 만료 시간을 변경해주세요
  - 기간이 촉박할 경우 일정 시간 후에는 목록이 뜨지 않을 수 있습니다
  - 마감기간 등을 넉넉하게 설정하세요(ex : 2099-12-31 까지)
6. ajax 등 통신 경로에 프로토콜을 적지 마세요
  - 서버는 http와 https 환경에서 모두 구동 가능하기 때문에 프로토콜을 적지 않아야 자동 적용됩니다
  - `http://www.sysout.co.kr` 이 아니라 `//www.sysout.co.kr`과 같이 작성하세요
  - 가급적 요청주소의 프로토콜, 호스트, IP는 모두 지우시기 바랍니다.
  - `${pageContext.request.contextPath}`를 사용합니다
  - (주의) 컨트롤러에서 redirect 할 때는 사용하지 않습니다(/가 절대경로의 시작점입니다)
7. 웹소켓을 사용하셨다면 http와 https에 따라 주소가 달라집니다
  - http일 경우 `ws://`로 시작
  - https일 경우 `wss://`로 시작
  - sockjs를 사용한 경우 해당사항 없음
8. favicon 설정

## 프로젝트 다이어그램 접근제한 공개로 변경

다른 사람들이 다이어그램을 확인할 수 있도록 팀 다이어그램의 접근권한을 전체 공개로 변경해주세요
만약 불가할 경우 다이어그램을 복사하여 신규 생성 후 공개로 설정해주세요.
  
## 라이브러리 설정 변경

1. 인증키와 사용량이 측정되는 라이브러리(ex : 카카오지도)에 다음 주소를 허용 설정하세요
  - http://www.sysout.co.kr
  - https://www.sysout.co.kr
  - 추가하지 않으면 운영서버에서는 해당 라이브러리가 정상 작동하지 않습니다
2. GPS 기능을 사용하는 경우에는 반드시 https로만 처리가 가능합니다.
  - 서버에는 https 설정이 되어 있습니다
  - 프로젝트 코드 중 https에서 작동하지 않는 코드가 있는지 확인해주세요
3. 카카오페이처럼 리다이렉트 주소를 알려줘야 하는 경우 계산하도록 변경
  - `ServletUriComponentsBuilder.currentContextPath().path('/나머지경로').toURIString();`

## 배포 파일 안내

배포에 필요한 파일은 다음과 같습니다.
1. 프로젝트 정보(.txt)
  - 팀명, 프로젝트명, 팀원별 역할 및 담당, 간단설명, 주요 구현기능, 개발환경(간단하게)
  - 대표이미지(ex : 로고) - 있을 경우 제출(없으면 기본이미지로 설정)
  - 프로젝트 서비스 희망 주소 (www.sysout.co.kr 뒤에 붙을 주소)
  - 참조한 사이트명과 주소
  - 프로젝트 Github 주소, ERD 주소, Figma 주소, 그 외 사용한 기획 단계 프로그램의 주소
  - 프로젝트 상세 설명(선택)
  - 프로젝트 계정 정보(필수) - 존재하는 계층별로 최소 1개 이상의 계정 정보를 제출
2. 프로젝트 발표 자료(.ppt, .pdf 등)
3. 프로젝트 서비스용 압축파일(.war)
  - eclipse에서 `file` → `export` → `war file`
- `run` → `maven build` → 명령행에 `package -DskipTests` 입력 → `Build`      // 메이븐 명령 : clean(기존 빌드 내역 삭제), install(새롭게 의존성 설치), package(완제품 생성)  // 옵션 : DskipTests(테스트 생략)
- 위 둘 중 하나로 진행                                                      // [최종] packaage -DskipTests
4. 데이터베이스 덤프 파일(.dmp)      // 강사님이 진행
  - Windows
    - cmd 실행 후 다음 커맨드 입력
    - `exp userid=system/oracle file="내보낼파일경로" owner="사용중인계정이름"`
    - 사용중인계정명은 불러올 때 필요하니 강사에게 반드시 알려줄 것
5. 기존에 업로드된 파일들    // 발표할때 사용한 이미지 등 전부 백업해서 줄 것


## 리액트를 사용하는 경우

1. 프로젝트를 빌드할 때 axios의 기본 빌드 폴더를 변경하셔야 합니다.
2. 빌드가 완료된 파일을 Spring Boot 프로젝트의 static 폴더에 추가한 뒤 배포해야 합니다.
